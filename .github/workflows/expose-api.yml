name: Expose API

on:
    workflow_dispatch:


jobs:
    expose-api:
        runs-on: ubuntu-latest
        steps:
            - name: GitHub Context
              run: echo '${{ toJSON(github) }}' | jq

            - name: GitHub Script Testing
              uses: actions/github-script@v7
              with:
                github-token: ${{ secrets.REPO_SECRET }}
                script: |
                  const path = require('path');
                  const fs = require('fs');
                  // require expose-api.js from scripts folder
                  const exposeApi = require(path.join(process.env.GITHUB_WORKSPACE, 'scripts', 'expose-api.js'));
                  exposeApi('Helleee World!');
